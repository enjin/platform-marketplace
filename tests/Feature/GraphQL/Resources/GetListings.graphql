query GetListings(
  $ids: [BigInt!]
  $listingIds: [String!]
  $account: String
  $makeAssetId: AssetInputType
  $takeAssetId: AssetInputType
) {
  GetListings(
    ids: $ids
    listingIds: $listingIds
    account: $account
    makeAssetId: $makeAssetId
    takeAssetId: $takeAssetId
  ) {
    totalCount
    pageInfo {
      startCursor
      endCursor
      hasPreviousPage
      hasNextPage
    }
    edges {
      node {
        listingId
        makeAssetId {
          collectionId
          tokenId
        }
        takeAssetId {
          collectionId
          tokenId
        }
        amount
        price
        minTakeValue
        feeSide
        creationBlock
        deposit
        salt
        state {
          ... on FixedPriceState {
            amountFilled
            type
          }
          ... on AuctionState {
            type
          }
        }
        data {
          ... on FixedPriceData {
            type
          }
          ... on AuctionData {
            type
            startBlock
            endBlock
          }
        }
        seller {
          account {
            publicKey
            address
          }
        }
        sales {
          edges {
            node {
              amount
              price
              bidder {
                account {
                  publicKey
                  address
                }
              }
            }
          }
        }
        bids {
          edges {
            node {
              price
              bidder {
                account {
                  publicKey
                  address
                }
              }
              height
            }
          }
        }
        states {
          state
          height
        }
      }
    }
  }
}
